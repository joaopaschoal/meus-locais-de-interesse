<?

date_default_timezone_set('UTC');


//expect: 1434585600
//actual: 1434578400


$datas = [
'116' => '2015-02-28 00:00:00',
'117' => '2015-03-03 00:00:00',
'118' => '2015-03-04 00:00:00',
'119' => '2015-03-05 00:00:00',
'120' => '2015-03-06 00:00:00',
'122' => '2015-03-07 00:00:00',
'123' => '2015-03-08 00:00:00',
'124' => '2015-03-09 00:00:00',
'125' => '2015-03-10 00:00:00',
'126' => '2015-03-11 00:00:00',
'127' => '2015-03-13 00:00:00',
'129' => '2015-03-14 00:00:00',
'128' => '2015-03-15 00:00:00',
'130' => '2015-03-16 00:00:00',
'131' => '2015-03-17 00:00:00',
'132' => '2015-03-18 00:00:00',
'133' => '2015-03-19 00:00:00',
'134' => '2015-03-20 00:00:00',
'135' => '2015-03-21 00:00:00',
'136' => '2015-03-22 00:00:00',
'137' => '2015-03-23 00:00:00',
'138' => '2015-03-24 00:00:00',
'139' => '2015-03-25 00:00:00',
'140' => '2015-03-26 00:00:00',
'141' => '2015-03-27 00:00:00',
'142' => '2015-03-28 00:00:00',
'143' => '2015-03-29 00:00:00',
'144' => '2015-03-30 00:00:00',
'145' => '2015-03-31 00:00:00',
'146' => '2015-04-01 00:00:00',
'147' => '2015-04-02 00:00:00',
'148' => '2015-04-03 00:00:00',
'149' => '2015-04-04 00:00:00',
'152' => '2015-04-05 00:00:00',
'150' => '2015-04-06 00:00:00',
'151' => '2015-04-07 00:00:00',
'153' => '2015-04-08 00:00:00',
'154' => '2015-04-09 00:00:00',
'155' => '2015-04-10 00:00:00',
'156' => '2015-04-11 00:00:00',
'158' => '2015-04-12 00:00:00',
'159' => '2015-04-13 00:00:00',
'160' => '2015-04-14 00:00:00',
'161' => '2015-04-15 00:00:00',
'162' => '2015-04-16 00:00:00',
'163' => '2015-04-17 00:00:00',
'164' => '2015-04-18 00:00:00',
'166' => '2015-04-19 00:00:00',
'165' => '2015-04-20 00:00:00',
'167' => '2015-04-21 00:00:00',
'168' => '2015-04-22 00:00:00',
'169' => '2015-04-23 00:00:00',
'170' => '2015-04-24 00:00:00',
'171' => '2015-04-25 00:00:00',
'172' => '2015-04-26 00:00:00',
'173' => '2015-04-27 00:00:00',
'174' => '2015-04-28 00:00:00',
'176' => '2015-04-29 00:00:00',
'175' => '2015-04-30 00:00:00',
'177' => '2015-05-02 00:00:00',
'182' => '2015-05-03 00:00:00',
'183' => '2015-05-04 00:00:00',
'184' => '2015-05-05 00:00:00',
'185' => '2015-05-06 00:00:00',
'186' => '2015-05-07 00:00:00',
'187' => '2015-05-08 00:00:00',
'188' => '2015-05-09 00:00:00',
'189' => '2015-05-10 00:00:00',
'190' => '2015-05-11 00:00:00',
'191' => '2015-05-12 00:00:00',
'192' => '2015-05-13 00:00:00',
'178' => '2015-05-14 00:00:00',
'179' => '2015-05-15 00:00:00',
'180' => '2015-05-16 00:00:00',
'181' => '2015-05-17 00:00:00',
'194' => '2015-05-18 00:00:00',
'193' => '2015-05-19 00:00:00',
'196' => '2015-05-20 00:00:00',
'195' => '2015-05-21 00:00:00',
'197' => '2015-05-25 00:00:00',
'198' => '2015-05-26 00:00:00',
'199' => '2015-05-27 00:00:00',
'200' => '2015-05-28 00:00:00',
'201' => '2015-05-29 00:00:00',
'202' => '2015-05-30 00:00:00',
'203' => '2015-05-31 00:00:00',
'204' => '2015-06-01 00:00:00',
'205' => '2015-06-02 00:00:00',
'206' => '2015-06-03 00:00:00',
'207' => '2015-06-04 00:00:00',
'208' => '2015-06-05 00:00:00',
'210' => '2015-06-06 00:00:00',
'209' => '2015-06-07 00:00:00',
'211' => '2015-06-08 00:00:00',
'212' => '2015-06-09 00:00:00',
'213' => '2015-06-10 00:00:00',
'217' => '2015-06-11 00:00:00',
'216' => '2015-06-12 00:00:00',
'215' => '2015-06-13 00:00:00',
'214' => '2015-06-14 00:00:00',
'218' => '2015-06-15 00:00:00',
'219' => '2015-06-16 00:00:00',
'220' => '2015-06-17 00:00:00',
'221' => '2015-06-18 00:00:00'

];


$dir = 'bd_acompanhamento_19.06.15_migracao.db3';
$db  = new SQLite3($dir) or die("cannot open the database");



foreach ($datas as $id => $data) {
	$str_upd = 'update acompanhamento set data_acompanhamento = '.strtotime($data).'000 where id_acompanhamento = '.$id;
	$db->query($str_upd) or die('Erro ao atualizar a row: ['.$id.'] - '.$data);
	echo 'Update '.$id.'<br />';
}

echo 'Finalizado com sucesso!'
?>